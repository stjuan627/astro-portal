---
interface Props {
  title: string;
  imageUrl: string;
  badge?: string;
  rating?: number;
  href?: string;
}

const { title, imageUrl, badge, rating, href } = Astro.props;

console.debug('[Card] Rendering card:', { title, imageUrl, badge, rating });
---

<div class="group relative overflow-hidden rounded-lg bg-base-100 shadow-md transition-all duration-300 hover:shadow-xl hover:-translate-y-1">
  <a href={href} class="block">
    <!-- 图片容器 -->
    <div class="aspect-[16/9] overflow-hidden">
      <img 
        src={imageUrl} 
        alt={title}
        class="h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"
        loading="lazy"
      />
    </div>

    <!-- 内容区 -->
    <div class="p-3">
      {badge && (
        <div class="badge badge-secondary absolute right-2 top-2 text-xs">
          {badge}
        </div>
      )}

      {rating && (
        <div class="mb-1 flex items-center gap-1">
          <span class="text-md text-yellow-400 leading-none align-middle">★</span>
          <span class="text-xs text-base-content/70 leading-none align-middle">
            {rating.toFixed(1)}
          </span>
        </div>
      )}

      <h3 class="text-xs font-medium leading-tight line-clamp-2 sm:text-sm">
        {title}
      </h3>
    </div>
  </a>
</div> 